# Srain built-in configuration file

# Application configuration.

version = "0.06.4"      # String; Every configuration file should have a
                        # version, altough it is not used yet
id = "im.srain.Srain"   # The identifier for Srain
theme = "default"       # String; Theme; Available values: default

# Terminal log configuration, which is user doesn't need to care about.
# If you want to report/fix a bug, terminal log will be helpful.
log =
{
    prompt_color = true     # Bool; Colorful output
    prompt_file = false     # Bool; Display the filename of the file which log
                            # statement is located
    prompt_function = true  # Bool; As aboved, function name
    prompt_line = false     # Bool; As aboved, line number

    # String array; Specify the log level of a group of files
    debug_targets   = []    # Files with debug log level
    info_targets    = []    # Files with information log level
    warn_targets    = [""]  # Files with warning log level
    error_targets   = []    # Files with error" log level
}

# IRC Server configuration, this group can also appear in server_list.
server =
{
    # User information
    user =
    {
        nickname = "SrainUser"
        username = "Srain"
        realname = "Can you can a can?"
        login_method = "none"   # String; Login method; Available values:
                                # - none: No login method, default value
                                # - pass: Login with PASS command
                                # - nickserv: Login with NICKSERV command
                                # - msg_nickserv: Login with /msg NickServ identify
                                # - sasl_plain: Login with SASL PLAIN mechanism
        # password = ""         # String; User password, default unset
    }

    # Default messages for performing specified action
    default_messages =
    {
        part = "Leaving."
        kick = "Kick."
        away = "Away from keyboard."
        quit = "El Psy Congroo."
    }

    # Chat configuration, this group can also appear in chat_list.
    chat =
    {
        log = true                  # Bool; Persistent chat log to storage
        notify = "mentioned"        # String; Desktop notification setting
                                    # Available values:
                                    # - never: Disable desktop notification
                                    # - mentioned: Notify while mentioned
                                    # - all: Notify while receivied any message
        show_topic = true           # Bool; Show topic
        show_avatar = false         # Bool; Show user avater
        show_user_list = true       # Bool; Show user list
        render_mirc_color = true    # Bool; Render mirc color

        url_handlers =
        {
            # WARNING: The following options may EXPOSE your client IP address

            http = # Including https
            {
                fetch_content_type = false  # Bool; Fetch content type of URL
                fetch_image = false         # Bool; Fetch image from URL
                fetch_url_title = false     # Bool; Fetch title of URL
            }
        }
    }

    # Specified chat configuration, every element in list should have a unique
    # ``name``.
    chat_list =
    (
        {
            # ``name`` is necessary for a ``chat`` group in ``chat_list``.
            name = "#srain"
            show_topic = true
        }
    )
}

# Specified server configuration, every element in list should have a unique
# "name".
server_list =
(
    {
        # ``name``, ``addrs`` are necessary for a ``server`` group
        # in ``server_list``, otherwise you can not connect to it.
        name = "freenode"           # String; The unique name of server
        addrs = [
            "irc.freenode.net",
            "chat.freenode.net",
            "irc.freenode.org",
            "chat.freenode.org"
        ]                           # String array; Addresses of IRC server,
                                    # each address follows the format of
                                    # <host>[:<port>]. The port can be omitted,
                                    # default 6667 for non-TLS and 6697 for TLS
        # password = ""             # String; Connection password, default unset
        tls = true                  # Bool; Connect with TLS encryption
        # tls_noverify = false      # Bool; Connect with TLS encryption but without
                                    # certificate verification, only used while
                                    # connecting to a self-signed certificate
                                    # verified server
        encoding = "utf-8"          # String; Encoding of IRC server, to get
                                    # all available value of encoding, check the
                                    # output of ``iconv --list``
        # ipv6 = false              # Use IPv6 connection, not yet supported
    },
    {
        name = "GIMPNet"
        addrs = ["irc.gimp.org", "irc.gnome.org"]
        tls = true
        encoding = "utf-8"
    },
    {
        name = "OFTC"
        addrs = ["irc.oftc.net"]
        tls = true
        encoding = "utf-8"
    },
    {
        name = "Rizon"
        addrs = ["irc.rizon.net"]
        tls = true
        encoding = "utf-8"
    },
    {
        name = "localhost"
        addrs = ["localhost", "127.0.0.1"]
        tls = false
    }

# TODO: More predefined servers
)
